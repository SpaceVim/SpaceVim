---
title: "常见问题" 
description: "在使用 SpaceVim 过程中比较常见的一些问题，包括并不限于安装、配置及使用。" 
lang: cn
---

# SpaceVim 常见问题解答

这里根据社区反馈的情况，罗列了一些大家经常会问的问题，如果有需要补充的，欢迎使用
使用 SpaceVim 中文社区频道参与套路，也可以直接编辑本页，提交 PR。


<!-- vim-markdown-toc GFM -->

- [为什么选择 Toml 作为默认配置语言？](#为什么选择-toml-作为默认配置语言)
- [E492: 未编辑的命令: ^M](#e492-未编辑的命令-m)
- [为什么 SpaceVim 颜色怪异？](#为什么-spacevim-颜色怪异)

<!-- vim-markdown-toc -->

### 为什么选择 Toml 作为默认配置语言？

在往期的版本中，一直使用的 Vim 脚本作为配置文件，而 SpaceVim 读取配置文件的机制是
直接载入该脚本。Vim 在载入脚本时是边载入边执行的，这就意味着当你的配置文件中间部分
出现语法错误时，并不能阻止前半部分配置被载入，排错时非常有影响。

因此我们选择了另外一种更加健壮的语言来配置 SpaceVim，SpaceVim 会完整读取该配置文件，
如果文件中间出现语法错误，导致解析失败。那么该配置会被完全舍弃，而使用 SpaceVim 的
默认配置，这就大大降低了因配置文件错误导致 SpaceVim 运行出错的可能性。

在配置文件格式选择时，我们在 json、yaml、xml、toml 这四中文件格式之间也做了比较。

1. yaml 依赖缩进，配置转移时易出错，不与考虑
2. xml 缺少 vim 解析库， 不与考虑
3. json 时一个比较好的配置信息传输格式，并且 Vim 有一个解析的函数，但是 json 格式
不支持注释，手写编辑时，阅读性太差。

因此，我们选择了 Toml 作为默认的配置格式，并且解析后，缓存为 json 文件。SpaceVim
在启动时直接读取缓存 json 文件，效率更高。

### E492: 未编辑的命令: ^M

这个问题是git在克隆过程中,自动添加了^M, 可以通过下面的方法来解决:

```sh
git config --global core.autocrlf input
```
### 为什么 SpaceVim 颜色怪异？

因为在 SpaceVim 中，默认情况下是启用了终端真色，因此你需要确保你的终端支持真色。
当然如果实在没有办法支持真色，你可以禁用 SpaceVim 的真色选项, 在 `~/.SpaceVim.d/init.vim`
文件中添加：

```vim
let g:spacevim_enable_guicolors = 0
```
